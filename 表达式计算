/*
表达式计算 
输入：四则运算表达式，仅由数字，+，-，*，/，() 组成，没有空格，要求求其值。假设运算符结果都是整数。、
	“/”结果 也是整数 
*/
#include <iostream>
#include <cstring>
#include <cstdlib>
using namespace std;
int factor_value();
int term_value();
int expression_value();
int main()
{
	cout<<experssion_value()<<endl;
	return 0;
} 
int experssion_value()//求一个表达式的值 
{
	int result=term_value();//求第一项的值
	bool more=true;
	while(more){
		char op=cin.peek();//看一个字符，不取走
		if(op=='+'||op=='-'){
			cin.get();//从输入中取走一个字符
			int value=term_value();
			if(op=='+') result+=value;
			else result-=value; 
		} 
		else more=false;
	}
	return result;
}
int term_value()//求一个项的值
{
	int result=factor_value();//求第一个因子的值
	while(true){
		char op=cin.peek()
		if(op=='*'||op=='/'){
			cin.get();
			int value=factor_value();
			if(op=='*')
				result*=value;
			else result/=value;
		} 
		else
			break;
	} 
	return result;
} 
int factor_value()
{
	int result=0;
	char c=cin.peek();
	if(c=='('){
		cin.get();
		result=experssion_value();
		cin.get();
	}
	else{
		while(isdigit(c)){
			result=10*result+c-'0';
			cin.get();
			c=cin.peek();
		}
	}
	return result;
}
